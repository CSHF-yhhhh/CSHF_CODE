<Buttom_label>:
    font_style: "Overline"
    halign: "center"
    width: app.width * 0.1
    size_hint: (None, 0.2)
<Bar>:
    cols: 1
    spacing: app.spacing
    size_hint: (None, 0.8)
    width: app.width * 0.1
    MDLabel:
        size_hint: (1, None)
        height: root.height * (1 - root.value)
        text: root.bar_name
        text_size: self.width, self.height
        font_style: "Subtitle2"
        valign:"bottom"
        halign: "center"
    MDBoxLayout:
        size_hint: (1, None)
        height: root.height * root.value
        canvas:
            Color:
                rgba: root.bg_color
            Rectangle:
                size:self.size
                pos:self.pos
                
<BarGraph>:
    bar_color: app.theme_cls.primary_dark
    GridLayout:
        width: self.minimum_width
        size_hint_x: None
        cols: 1
        spacing: app.spacing
        GridLayout:
            size_hint:(None, 0.8)
            rows: 1
            width: self.minimum_width
            id: box
            spacing: app.spacing
        GridLayout:
            size_hint:(None, 0.2)
            rows: 1
            width: self.minimum_width
            id: buttom
            spacing: app.spacing

<Record>:
    Screen:
        name: "Main"
        MDBoxLayout:
            padding: 10
            spacing: app.spacing
            orientation: "vertical"
            canvas:
                Color:
                    rgba: (0.9, 0.9, 0.9, 1)
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "appPicture/back4.jpg"
            BoxLayout: 
                size_hint: (1, 0.2)
                spacing: 5
                canvas:
                    Color:
                        rgba: (1, 1, 1, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        source: "appPicture/paper.jpg"
                Button:
                    text: "刷新"
                    color: app.theme_cls.primary_color
                    background_color: (1, 1, 1, 0)
                    on_release: root.Update()
                    canvas:
                        Color:
                            rgba: (0, 0, 0, 1)
                        Line:
                            points:[self.pos[0] + self.width, self.pos[1] + 5, self.pos[0] + self.width, self.pos[1] + self.height - 10] 
                Button:
                    text: "查看排名"
                    color: app.theme_cls.primary_color
                    background_color: (1, 1, 1, 0)
                    on_release: root.ShowSort()
            BoxLayout:
                size_hint: (1, 0.2)
                padding: 5
                spacing: 5
                canvas:
                    Color:
                        rgba: (1, 1, 1, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        source: "appPicture/paper.jpg"
                BoxLayout:
                    orientation: "vertical"
                    MDLabel:
                        text:"总学习天数"
                        text_color: app.theme_cls.primary_color
                        theme_text_color: "Custom"
                        halign: "center"
                    MDLabel:
                        halign: "center"
                        text_color: app.theme_cls.primary_color
                        theme_text_color: "Custom"
                        text: root.total_days
                BoxLayout:
                    orientation: "vertical"
                    MDLabel:
                        text:"累计学习个数"
                        text_color: app.theme_cls.primary_color
                        theme_text_color: "Custom"
                        halign: "center"
                    MDLabel:
                        halign: "center"
                        text: root.total_nums
                        text_color: app.theme_cls.primary_color
                        theme_text_color: "Custom"
            
            BoxLayout:
                size_hint: (1, 0.5)
                orientation: "vertical"
                padding: [5, 5, 5, 0]
                canvas:
                    Color:
                        rgba: (1, 1, 1, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        source: "appPicture/paper.jpg"
                MDLabel:
                    size_hint: (1, 0.2)
                    halign: "center"
                    text: root.title
                    font_style: "H6"
                    text_color: app.theme_cls.primary_color
                    theme_text_color: "Custom"
                BoxLayout:
                    size_hint: (1, 0.8)
                    id: picture
                    canvas:
                        Color:
                            rgba: (0.98, 0.98, 0.98, 1)
                        Line:
                            points:[self.x,self.y + self.height * 0.2, self.x + self.width, self.y + self.height * 0.2]
                            width:1
                        Line:
                            points:[self.x,self.y + self.height * 0.4, self.x + self.width, self.y + self.height * 0.4]
                            width:1
                        Line:
                            points:[self.x,self.y + self.height * 0.6, self.x + self.width, self.y + self.height * 0.6]
                            width:1
                        Line:
                            points:[self.x,self.y + self.height * 0.8, self.x + self.width, self.y + self.height * 0.8]
                            width:1
                        Line:
                            points:[self.x,self.y + self.height, self.x + self.width, self.y + self.height]
                            width:1
            BoxLayout:
                size_hint:(1, 0.1)
                spacing: app.spacing
                canvas:
                    Color:
                        rgba: (1, 1, 1, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        source: "appPicture/paper.jpg"
                MDTextButton:
                    size_hint: (1/4, 1)
                    custom_color: app.theme_cls.primary_color
                    text: "上一年"
                    halign: "center"
                    on_release: root.LastYear()
                    font_name: "./siyuan.ttf"
                MDTextButton:
                    size_hint: (1/4, 1)
                    custom_color: app.theme_cls.primary_color
                    text: "上个月"
                    halign: "center"
                    on_release: root.LastMonth()
                    font_name: "./siyuan.ttf"
                MDTextButton:
                    size_hint: (1/4, 1)
                    custom_color: app.theme_cls.primary_color
                    text: "下个月"
                    halign: "center"
                    on_release: root.NextMonth()
                    font_name: "./siyuan.ttf"
                MDTextButton:
                    size_hint: (1/4, 1)
                    text: "下一年"
                    halign: "center"
                    custom_color: app.theme_cls.primary_color
                    on_release: root.NextYear()
                    font_name: "./siyuan.ttf"
